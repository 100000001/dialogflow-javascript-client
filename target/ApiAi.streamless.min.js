var ApiAi=function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,e,n){Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=9)}([function(t,e){"use strict";var n=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(e){t.call(this,e),this.message=e,this.stack=(new Error).stack}return n(e,t),e}(Error),r=function(t){function e(e){t.call(this,e),this.name="ApiAiClientConfigurationError"}return n(e,t),e}(i);e.ApiAiClientConfigurationError=r;var o=function(t){function e(e,n){t.call(this,e),this.message=e,this.code=n,this.name="ApiAiRequestError"}return n(e,t),e}(i);e.ApiAiRequestError=o},function(t,e){"use strict";var n=function(){function t(){}return t.ajax=function(e,n,i,r){return void 0===i&&(i=null),void 0===r&&(r=null),new Promise(function(o,s){var u=t.createXMLHTTPObject(),a=n,c=null;if(i&&e===t.Method.GET){a+="?";var f=0;for(var p in i)i.hasOwnProperty(p)&&(f++&&(a+="&"),a+=encodeURIComponent(p)+"="+encodeURIComponent(i[p]))}else i&&(r||(r={}),r["Content-Type"]="application/json",c=JSON.stringify(i));if(u.open(e[e],a),r)for(var p in r)r.hasOwnProperty(p)&&u.setRequestHeader(p,r[p]);c?u.send(c):u.send(),u.onload=function(){this.status>=200&&this.status<300?o(this):s(this)},u.onerror=function(){s(this)}})},t.get=function(e,n,i){return void 0===n&&(n=null),void 0===i&&(i=null),t.ajax(t.Method.GET,e,n,i)},t.post=function(e,n,i){return void 0===n&&(n=null),void 0===i&&(i=null),t.ajax(t.Method.POST,e,n,i)},t.put=function(e,n,i){return void 0===n&&(n=null),void 0===i&&(i=null),t.ajax(t.Method.PUT,e,n,i)},t["delete"]=function(e,n,i){return void 0===n&&(n=null),void 0===i&&(i=null),t.ajax(t.Method.DELETE,e,n,i)},t.createXMLHTTPObject=function(){for(var e=null,n=0;n<t.XMLHttpFactories.length;n++){try{e=t.XMLHttpFactories[n]()}catch(i){continue}break}return e},t}();n.XMLHttpFactories=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];var n;!function(t){!function(t){t[t.GET="GET"]="GET",t[t.POST="POST"]="POST",t[t.PUT="PUT"]="PUT",t[t.DELETE="DELETE"]="DELETE"}(t.Method||(t.Method={}));t.Method}(n||(n={})),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e,n){"use strict";var i=n(0),r=n(1),o=function(){function t(t,e){this.apiAiClient=t,this.options=e,this.uri=this.apiAiClient.getApiBaseUrl()+"query?v="+this.apiAiClient.getApiVersion(),this.requestMethod=r["default"].Method.POST,this.headers={Authorization:"Bearer "+this.apiAiClient.getAccessToken()},this.options.lang=this.apiAiClient.getApiLang(),this.options.sessionId=this.apiAiClient.getSessionId()}return t.handleSuccess=function(t){return Promise.resolve(JSON.parse(t.responseText))},t.handleError=function(t){var e=null;try{var n=JSON.parse(t.responseText);e=n.status&&n.status.errorDetails?new i.ApiAiRequestError(n.status.errorDetails,n.status.code):new i.ApiAiRequestError(t.statusText,t.status)}catch(r){e=new i.ApiAiRequestError(t.statusText,t.status)}return Promise.reject(e)},t.prototype.perform=function(e){void 0===e&&(e=null);var n=e?e:this.options;return r["default"].ajax(this.requestMethod,this.uri,n,this.headers).then(t.handleSuccess.bind(this))["catch"](t.handleError.bind(this))},t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o},function(t,e,n){"use strict";var i=n(4),r=n(0),o=n(5);e.StreamClient=o["default"];var s=n(6),u=n(7),a=n(1);e.XhrRequest=a["default"];var c=function(){function t(t){if(!t.accessToken)throw new r.ApiAiClientConfigurationError("Access token is required for new ApiAi.Client instance");this.accessToken=t.accessToken,this.apiLang=t.lang||i["default"].DEFAULT_CLIENT_LANG,this.apiVersion=t.version||i["default"].DEFAULT_API_VERSION,this.apiBaseUrl=t.baseUrl||i["default"].DEFAULT_BASE_URL,this.sessionId=t.sessionId||this.guid()}return t.prototype.textRequest=function(t,e){if(void 0===e&&(e={}),!t)throw new r.ApiAiClientConfigurationError("Query should not be empty");return e.query=t,new s["default"](this,e).perform()},t.prototype.userEntitiesRequest=function(t){return void 0===t&&(t={}),new u.UserEntitiesRequest(this,t)},t.prototype.createStreamClient=function(t){return void 0===t&&(t={}),t.server=""+i["default"].STREAM_CLIENT_SERVER_PROTO+"://"+i["default"].DEFAULT_BASE_URL+":"+i["default"].STREAM_CLIENT_SERVER_PORT+i["default"].STREAM_CLIENT_SERVER_PATH,t.token=this.getAccessToken(),t.sessionId=this.getSessionId(),t.lang=this.getApiLang(),new o["default"](t)},t.prototype.getAccessToken=function(){return this.accessToken},t.prototype.getApiVersion=function(){return this.apiVersion?this.apiVersion:i["default"].DEFAULT_API_VERSION},t.prototype.getApiLang=function(){return this.apiLang?this.apiLang:i["default"].DEFAULT_CLIENT_LANG},t.prototype.getApiBaseUrl=function(){return this.apiBaseUrl?this.apiBaseUrl:i["default"].DEFAULT_BASE_URL},t.prototype.setSessionId=function(t){this.sessionId=t},t.prototype.getSessionId=function(){return this.sessionId},t.prototype.guid=function(){var t=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},t}();e.Client=c},function(t,e){"use strict";var n;!function(t){!function(t){t[t.EN="en"]="EN",t[t.DE="de"]="DE",t[t.ES="es"]="ES"}(t.AVAILABLE_LANGUAGES||(t.AVAILABLE_LANGUAGES={}));var e=t.AVAILABLE_LANGUAGES;t.VERSION="2.0.0",t.DEFAULT_BASE_URL="https://api.api.ai/v1/",t.DEFAULT_API_VERSION="20150204",t.DEFAULT_CLIENT_LANG=e.EN,t.STREAM_CLIENT_SERVER_PROTO="wss",t.STREAM_CLIENT_SERVER_PORT="4435",t.STREAM_CLIENT_SERVER_PATH="ws/query"}(n||(n={})),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e,n){"use strict";var i=n(0),r=function(){function t(t){throw void 0===t&&(t={}),new i.ApiAiClientConfigurationError("You are using SDK version without built-in stream support")}return t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(2),o=function(t){function e(){t.apply(this,arguments)}return i(e,t),e}(r["default"]);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(2),o=n(8),s=n(1),u=function(t){function e(n,i){void 0===i&&(i={}),t.call(this,n,i),this.options=i,this.baseUri=this.apiAiClient.getApiBaseUrl()+e.ENDPOINT}return i(e,t),e.prototype.create=function(t){this.uri=this.baseUri;var e=o["default"].cloneObject(this.options);return e.entities=Array.isArray(t)?t:[t],this.perform(e)},e.prototype.retrieve=function(t){return this.uri=this.baseUri+"/"+t,this.requestMethod=s["default"].Method.GET,this.perform()},e.prototype.update=function(t,e,n){void 0===n&&(n=!1),this.uri=this.baseUri+"/"+t,this.requestMethod=s["default"].Method.PUT;var i=o["default"].cloneObject(this.options);return i.extend=n,i.entries=e,i.name=t,this.perform(i)},e.prototype["delete"]=function(t){return this.uri=this.baseUri+"/"+t,this.requestMethod=s["default"].Method.DELETE,this.perform()},e}(r["default"]);e.UserEntitiesRequest=u,u.ENDPOINT="userEntities"},function(t,e){"use strict";var n=function(){function t(){}return t.cloneObject=function(t){return JSON.parse(JSON.stringify(t))},t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e,n){t.exports=n(3)}]);