var ApiAi=function(e){function __webpack_require__(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,__webpack_require__),i.l=!0,i.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.i=function(e){return e},__webpack_require__.d=function(e,t,r){Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e["default"]}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=7)}([function(e,t){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=function(e){function ApiAiBaseError(t){e.call(this,t),this.message=t,this.stack=(new Error).stack}return r(ApiAiBaseError,e),ApiAiBaseError}(Error),n=function(e){function ApiAiClientConfigurationError(t){e.call(this,t),this.name="ApiAiClientConfigurationError"}return r(ApiAiClientConfigurationError,e),ApiAiClientConfigurationError}(i);t.ApiAiClientConfigurationError=n;var o=function(e){function ApiAiRequestError(t,r){e.call(this,t),this.message=t,this.code=r,this.name="ApiAiRequestError"}return r(ApiAiRequestError,e),ApiAiRequestError}(i);t.ApiAiRequestError=o},function(e,t){"use strict";var r,r=function(){function XhrRequest(){}return XhrRequest.ajax=function(e,t,r,i){return void 0===r&&(r=null),void 0===i&&(i=null),new Promise(function(n,o){var s=XhrRequest.createXMLHTTPObject(),u=t,a=null;if(r&&e===XhrRequest.Method.GET){u+="?";var c=0;for(var p in r)r.hasOwnProperty(p)&&(c++&&(u+="&"),u+=encodeURIComponent(p)+"="+encodeURIComponent(r[p]))}else r&&(i||(i={}),i["Content-Type"]="application/json",a=JSON.stringify(r));if(s.open(XhrRequest.Method[e],u),i)for(var p in i)i.hasOwnProperty(p)&&s.setRequestHeader(p,i[p]);a?s.send(a):s.send(),s.onload=function(){this.status>=200&&this.status<300?n(this):o(this)},s.onerror=function(){o(this)}})},XhrRequest.get=function(e,t,r){return void 0===t&&(t=null),void 0===r&&(r=null),XhrRequest.ajax(XhrRequest.Method.GET,e,t,r)},XhrRequest.post=function(e,t,r){return void 0===t&&(t=null),void 0===r&&(r=null),XhrRequest.ajax(XhrRequest.Method.POST,e,t,r)},XhrRequest.put=function(e,t,r){return void 0===t&&(t=null),void 0===r&&(r=null),XhrRequest.ajax(XhrRequest.Method.PUT,e,t,r)},XhrRequest["delete"]=function(e,t,r){return void 0===t&&(t=null),void 0===r&&(r=null),XhrRequest.ajax(XhrRequest.Method.DELETE,e,t,r)},XhrRequest.createXMLHTTPObject=function(){for(var e=null,t=0;t<XhrRequest.XMLHttpFactories.length;t++){try{e=XhrRequest.XMLHttpFactories[t]()}catch(r){continue}break}return e},XhrRequest.XMLHttpFactories=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],XhrRequest}();!function(e){!function(e){e[e.GET="GET"]="GET",e[e.POST="POST"]="POST",e[e.PUT="PUT"]="PUT",e[e.DELETE="DELETE"]="DELETE"}(e.Method||(e.Method={}));e.Method}(r||(r={})),Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},function(e,t,r){"use strict";var i=r(3),n=r(0),o=r(6);t.StreamClient=o["default"];var s=r(5),u=r(1);t.XhrRequest=u["default"];var a=function(){function Client(e){if(!e||!e.accessToken)throw new n.ApiAiClientConfigurationError("Access token is required for new ApiAi.Client instance");this.accessToken=e.accessToken,this.apiLang=e.lang||i["default"].DEFAULT_CLIENT_LANG,this.apiVersion=e.version||i["default"].DEFAULT_API_VERSION,this.apiBaseUrl=e.baseUrl||i["default"].DEFAULT_BASE_URL,this.sessionId=e.sessionId||this.guid()}return Client.prototype.textRequest=function(e,t){if(void 0===t&&(t={}),!e)throw new n.ApiAiClientConfigurationError("Query should not be empty");return t.query=e,new s["default"](this,t).perform()},Client.prototype.createStreamClient=function(e){return void 0===e&&(e={}),e.server=""+i["default"].STREAM_CLIENT_SERVER_PROTO+"://"+i["default"].DEFAULT_STREAM_CLIENT_BASE_URL+i["default"].STREAM_CLIENT_SERVER_PATH,e.token=this.getAccessToken(),e.sessionId=this.getSessionId(),e.lang=this.getApiLang(),new o["default"](e)},Client.prototype.getAccessToken=function(){return this.accessToken},Client.prototype.getApiVersion=function(){return this.apiVersion?this.apiVersion:i["default"].DEFAULT_API_VERSION},Client.prototype.getApiLang=function(){return this.apiLang?this.apiLang:i["default"].DEFAULT_CLIENT_LANG},Client.prototype.getApiBaseUrl=function(){return this.apiBaseUrl?this.apiBaseUrl:i["default"].DEFAULT_BASE_URL},Client.prototype.setSessionId=function(e){this.sessionId=e},Client.prototype.getSessionId=function(){return this.sessionId},Client.prototype.guid=function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},Client}();t.Client=a},function(e,t){"use strict";var r;!function(e){!function(e){e[e.EN="en"]="EN",e[e.DE="de"]="DE",e[e.ES="es"]="ES",e[e.PT_BR="pt-BR"]="PT_BR",e[e.ZH_HK="zh-HK"]="ZH_HK",e[e.ZH_CN="zh-CN"]="ZH_CN",e[e.ZH_TW="zh-TW"]="ZH_TW",e[e.NL="nl"]="NL",e[e.FR="fr"]="FR",e[e.IT="it"]="IT",e[e.JA="ja"]="JA",e[e.KO="ko"]="KO",e[e.PT="pt"]="PT",e[e.RU="ru"]="RU",e[e.UK="uk"]="UK"}(e.AVAILABLE_LANGUAGES||(e.AVAILABLE_LANGUAGES={}));var t=e.AVAILABLE_LANGUAGES;e.VERSION="2.0.0",e.DEFAULT_BASE_URL="https://api.api.ai/v1/",e.DEFAULT_STREAM_CLIENT_BASE_URL="api-ws.api.ai:4435/v1/",e.DEFAULT_API_VERSION="20150204",e.DEFAULT_CLIENT_LANG=t.EN,e.STREAM_CLIENT_SERVER_PROTO="wss",e.STREAM_CLIENT_SERVER_PATH="/ws/query"}(r||(r={})),Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},function(e,t,r){"use strict";var i=r(0),n=r(1),o=function(){function Request(e,t){this.apiAiClient=e,this.options=t,this.uri=this.apiAiClient.getApiBaseUrl()+"query?v="+this.apiAiClient.getApiVersion(),this.requestMethod=n["default"].Method.POST,this.headers={Authorization:"Bearer "+this.apiAiClient.getAccessToken()},this.options.lang=this.apiAiClient.getApiLang(),this.options.sessionId=this.apiAiClient.getSessionId()}return Request.handleSuccess=function(e){return Promise.resolve(JSON.parse(e.responseText))},Request.handleError=function(e){var t=null;try{var r=JSON.parse(e.responseText);t=r.status&&r.status.errorDetails?new i.ApiAiRequestError(r.status.errorDetails,r.status.code):new i.ApiAiRequestError(e.statusText,e.status)}catch(n){t=new i.ApiAiRequestError(e.statusText,e.status)}return Promise.reject(t)},Request.prototype.perform=function(e){void 0===e&&(e=null);var t=e?e:this.options;return n["default"].ajax(this.requestMethod,this.uri,t,this.headers).then(Request.handleSuccess.bind(this))["catch"](Request.handleError.bind(this))},Request}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o},function(e,t,r){"use strict";var i=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},n=r(4),o=function(e){function TextRequest(){e.apply(this,arguments)}return i(TextRequest,e),TextRequest}(n["default"]);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o},function(e,t,r){"use strict";var i=r(0),n=function(){function StubStreamClient(e){throw void 0===e&&(e={}),new i.ApiAiClientConfigurationError("You are using SDK version without built-in stream support")}return StubStreamClient}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t,r){e.exports=r(2)}]);