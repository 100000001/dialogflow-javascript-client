var ApiAi=function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,e,n){Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=14)}([function(t,e){"use strict";var n=function(){function t(){}return t.ajax=function(e,n,i,r){return void 0===i&&(i=null),void 0===r&&(r=null),new Promise(function(o,s){var a=t.createXMLHTTPObject(),u=n,c=null;if(i&&e===t.Method.GET){u+="?";var h=0;for(var l in i)i.hasOwnProperty(l)&&(h++&&(u+="&"),u+=encodeURIComponent(l)+"="+encodeURIComponent(i[l]))}else i&&(r||(r={}),r["Content-Type"]="application/json",c=JSON.stringify(i));if(a.open(e,u),r)for(var l in r)r.hasOwnProperty(l)&&a.setRequestHeader(l,r[l]);c?a.send(c):a.send(),a.onload=function(){this.status>=200&&this.status<300?o(this):s(this)},a.onerror=function(){s(this)}})},t.get=function(e,n,i){return void 0===n&&(n=null),void 0===i&&(i=null),t.ajax(t.Method.GET,e,n,i)},t.post=function(e,n,i){return void 0===n&&(n=null),void 0===i&&(i=null),t.ajax(t.Method.POST,e,n,i)},t.put=function(e,n,i){return void 0===n&&(n=null),void 0===i&&(i=null),t.ajax(t.Method.PUT,e,n,i)},t["delete"]=function(e,n,i){return void 0===n&&(n=null),void 0===i&&(i=null),t.ajax(t.Method.DELETE,e,n,i)},t.createXMLHTTPObject=function(){for(var e=null,n=0;n<t.XMLHttpFactories.length;n++){try{e=t.XMLHttpFactories[n]()}catch(i){continue}break}return e},t}();n.XMLHttpFactories=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];var n;!function(t){!function(t){t[t.GET="GET"]="GET",t[t.POST="POST"]="POST",t[t.PUT="PUT"]="PUT",t[t.DELETE="DELETE"]="DELETE"}(t.Method||(t.Method={}));t.Method}(n||(n={})),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e){"use strict";var n=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(e){t.call(this,e),this.message=e,this.stack=(new Error).stack}return n(e,t),e}(Error),r=function(t){function e(e){t.call(this,e),this.name="ApiAiClientConfigurationError"}return n(e,t),e}(i);e.ApiAiClientConfigurationError=r;var o=function(t){function e(e,n){t.call(this,e),this.message=e,this.code=n,this.name="ApiAiRequestError"}return n(e,t),e}(i);e.ApiAiRequestError=o},function(t,e,n){"use strict";var i=n(0),r=n(1),o=function(){function t(t,e){this.apiAiClient=t,this.options=e,this.uri=this.apiAiClient.getApiBaseUrl()+"query?v="+this.apiAiClient.getApiVersion(),this.requestMethod=i["default"].Method.POST,this.headers={Authorization:"Bearer "+this.apiAiClient.getAccessToken()},this.options.lang=this.apiAiClient.getApiLang(),this.options.sessionId=this.apiAiClient.getSessionId()}return t.prototype.perform=function(e){void 0===e&&(e=null);var n=e?e:this.options;return i["default"].ajax(this.requestMethod,this.uri,n,this.headers).then(t.handleSuccess.bind(this))["catch"](t.handleError.bind(this))},t.handleSuccess=function(t){return Promise.resolve(JSON.parse(t.responseText))},t.handleError=function(t){var e=null;try{var n=JSON.parse(t.responseText);e=n.status&&n.status.errorDetails?new r.ApiAiRequestError(n.status.errorDetails,n.status.code):new r.ApiAiRequestError(t.statusText,t.status)}catch(i){e=new r.ApiAiRequestError(t.statusText,t.status)}return Promise.reject(e)},t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o},function(t,e){"use strict";function n(){function t(t,e,n,i,r){this.fromSampleRate=t,this.toSampleRate=e,this.channels=0|n,this.outputBufferSize=i,this.noReturn=!!r,this.initialize()}t.prototype.initialize=function(){if(this.fromSampleRate<=0||this.toSampleRate<=0||this.channels<=0)throw new Error("Invalid settings specified for the resampler.");this.fromSampleRate==this.toSampleRate?(this.resampler=this.bypassResampler,this.ratioWeight=1):(this.resampler=function(t){var e=Math.min(t.length,this.outputBufferSize);if(e%this.channels!=0)throw new Error("Buffer was of incorrect sample length.");if(e<=0)return this.noReturn?0:[];for(var n=0,i=new Array(this.channels),r=0;r<this.channels;++r)i[r]=0;var o=0,s=0,a=!this.tailExists;this.tailExists=!1;var u=this.outputBuffer,c=0,h=0,l=this.ratioWeight;do{if(a)for(n=l,r=0;r<this.channels;++r)i[r]=0;else{for(n=this.lastWeight,r=0;r<this.channels;++r)i[r]=this.lastOutput[r];a=!0}for(;n>0&&o<e;){if(s=1+o-h,!(n>=s)){for(r=0;r<this.channels;++r)i[r]+=t[o+(r>0?r:0)]*n;h+=n,n=0;break}for(r=0;r<this.channels;++r)i[r]+=t[o++]*s;h=o,n-=s}if(0!=n){for(this.lastWeight=n,r=0;r<this.channels;++r)this.lastOutput[r]=i[r];this.tailExists=!0;break}for(r=0;r<this.channels;++r)u[c++]=i[r]/l}while(o<e);return this.bufferSlice(c)},this.ratioWeight=this.fromSampleRate/this.toSampleRate,this.tailExists=!1,this.lastWeight=0,this.initializeBuffers())},t.prototype.bypassResampler=function(t){return this.noReturn?(this.outputBuffer=t,t.length):t},t.prototype.bufferSlice=function(t){if(this.noReturn)return t;try{return this.outputBuffer.subarray(0,t)}catch(e){try{return this.outputBuffer.length=t,this.outputBuffer}catch(e){return this.outputBuffer.slice(0,t)}}},t.prototype.initializeBuffers=function(){try{this.outputBuffer=new Float32Array(this.outputBufferSize),this.lastOutput=new Float32Array(this.channels)}catch(t){this.outputBuffer=[],this.lastOutput=[]}},navigator.Resampler=t}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e,n){"use strict";var i=n(11),r=n(5),o=n(1),s=n(12),a=n(9);e.StreamClient=a["default"];var u=n(0);e.XhrRequest=u["default"];var c=function(){function t(t){if(!t.accessToken)throw new o.ApiAiClientConfigurationError("Access token is required for new ApiAi.Client instance");this.accessToken=t.accessToken,this.apiLang=t.lang||r["default"].DEFAULT_CLIENT_LANG,this.apiVersion=t.version||r["default"].DEFAULT_API_VERSION,this.apiBaseUrl=t.baseUrl||r["default"].DEFAULT_BASE_URL,this.sessionId=t.sessionId||this.guid()}return t.prototype.textRequest=function(t,e){if(void 0===e&&(e={}),!t)throw new o.ApiAiClientConfigurationError("Query should not be empty");return e.query=t,new i["default"](this,e).perform()},t.prototype.userEntitiesRequest=function(t){return void 0===t&&(t={}),new s.UserEntitiesRequest(this,t)},t.prototype.createStreamClient=function(t){return void 0===t&&(t={}),t.server=""+r["default"].STREAM_CLIENT_SERVER_PROTO+"://"+r["default"].DEFAULT_BASE_URL+":"+r["default"].STREAM_CLIENT_SERVER_PORT+r["default"].STREAM_CLIENT_SERVER_PATH,t.token=this.getAccessToken(),t.sessionId=this.getSessionId(),t.lang=this.getApiLang(),new a["default"](t)},t.prototype.getAccessToken=function(){return this.accessToken},t.prototype.getApiVersion=function(){return this.apiVersion?this.apiVersion:r["default"].DEFAULT_API_VERSION},t.prototype.getApiLang=function(){return this.apiLang?this.apiLang:r["default"].DEFAULT_CLIENT_LANG},t.prototype.getApiBaseUrl=function(){return this.apiBaseUrl?this.apiBaseUrl:r["default"].DEFAULT_BASE_URL},t.prototype.setSessionId=function(t){this.sessionId=t},t.prototype.getSessionId=function(){return this.sessionId},t.prototype.guid=function(){var t=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},t}();e.Client=c},function(t,e){"use strict";var n;!function(t){!function(t){t[t.EN="en"]="EN",t[t.DE="de"]="DE",t[t.ES="es"]="ES"}(t.AVAILABLE_LANGUAGES||(t.AVAILABLE_LANGUAGES={}));var e=t.AVAILABLE_LANGUAGES;t.VERSION="2.0.0",t.DEFAULT_BASE_URL="https://api.api.ai/v1/",t.DEFAULT_API_VERSION="20150204",t.DEFAULT_CLIENT_LANG=e.EN,t.STREAM_CLIENT_SERVER_PROTO="wss",t.STREAM_CLIENT_SERVER_PORT="4435",t.STREAM_CLIENT_SERVER_PATH="ws/query"}(n||(n={})),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e,n){"use strict";var i=n(3),r=n(10),o=function(){function t(){}return t.bindProcessors=function(){function t(t){this.chunkSize=t,this.array_data=[],this.callback=null}i["default"](),window.AudioContext=window.AudioContext||webkitAudioContext,AudioContext.prototype.createResampleProcessor=function(t,e,n,i){var r=this.createScriptProcessor(t,e,n),o=new navigator.Resampler(this.sampleRate,i,e,t,(!0));return r.onaudioprocess=function(t){for(var e=t.inputBuffer.getChannelData(0),n=t.outputBuffer.getChannelData(0),i=o.resampler(e),r=0;r<i;++r)n[r]=o.outputBuffer[r]},r},t.prototype.push=function(t){for(var e=t.length,n=new Array(Math.ceil(e/2)),i=0;i<e;i+=2)n[i/2]=t[i];Array.prototype.push.apply(this.array_data,n),this.process()},t.prototype.process=function(){for(var t;this.array_data.length>this.chunkSize;)t=this.array_data.splice(0,this.chunkSize),this.callback&&this.callback(t)},t.prototype.drop=function(){this.array_data.splice(0,this.array_data.length)},AudioContext.prototype.createEndOfSpeechProcessor=function(e){var n=this.createScriptProcessor(e,1,1);n.endOfSpeechCallback=null;var i=new r["default"];n.vad=i;var o=new t(160);return o.callback=function(t){var e=i.process(t);"CONTINUE"!==e&&n.endOfSpeechCallback&&(n.endOfSpeechCallback(),o.drop())},n.onaudioprocess=function(t){var e=t.inputBuffer.getChannelData(0),n=t.outputBuffer.getChannelData(0);o.push(e);for(var i=0;i<e.length;i++)n[i]=e[i]},n}},t}();e.Processors=o},function(t,e,n){"use strict";var i=n(3),r=n(8),o=function(){function t(t,e){void 0===e&&(e={});var n=e.bufferLen||4096;this.context=t.context,this.node=this.context.createScriptProcessor(n,1,1);var r=new Worker(this._getRecorderWorkerUrl());r.postMessage({command:"init",config:{sampleRate:this.context.sampleRate,resamplerInitializerBody:this._getFunctionBody(i["default"])}});var o,s=!1;this.node.onaudioprocess=function(t){s&&r.postMessage({command:"record",buffer:[t.inputBuffer.getChannelData(0)]})},this.configure=function(t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},this.record=function(){s=!0},this.stop=function(){s=!1},this.clear=function(){r.postMessage({command:"clear"})},this.getBuffer=function(t){o=t||e.callback,r.postMessage({command:"getBuffer"})},this.export16kMono=function(t,n){if(o=t||e.callback,n=n||e.type||"audio/raw",!o)throw new Error("Callback not set");r.postMessage({command:"export16kMono",type:n})},r.onmessage=function(t){o(t.data)},t.connect(this.node),this.node.connect(this.context.destination)}return t.prototype._getRecorderWorkerUrl=function(){var t=window.URL&&URL.createObjectURL.bind(URL);return t(new Blob([this._getFunctionBody(r["default"].createRecorderWorker())],{type:"text/javascript"}))},t.prototype._getFunctionBody=function(t){if("function"!=typeof t)throw new Error("Illegal argument exception: argument is not a funtion: "+t);var e=t.toString(),n=e.indexOf("{"),i=e.lastIndexOf("}");return n>0&&i>0?e.substring(n+1,i):e},t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o},function(t,e){"use strict";var n=function(){function t(){}return t.createRecorderWorker=function(){return function(){function t(t){new Function(t.resamplerInitializerBody)(),u=t.sampleRate,c=new navigator.Resampler(u,16e3,1,51200,(!1))}function e(t){l.push(t[0]),h+=t[0].length}function n(t){var e=o(l,h),n=c.resampler(e),i=a(n),r=new Blob([i],{type:t});this.postMessage(r)}function i(){var t=[];t.push(o(l,h)),this.postMessage(t)}function r(){h=0,l=[]}function o(t,e){for(var n=new Float32Array(e),i=0,r=0;r<t.length;r++)n.set(t[r],i),i+=t[r].length;return n}function s(t,e,n){for(var i=0;i<n.length;i++,e+=2){var r=Math.max(-1,Math.min(1,n[i]));t.setInt16(e,r<0?32768*r:32767*r,!0)}}function a(t){var e=new ArrayBuffer(2*t.length),n=new DataView(e);return s(n,0,t),n}var u,c,h=0,l=[];this.onmessage=function(o){switch(o.data.command){case"init":t(o.data.config);break;case"record":e(o.data.buffer);break;case"export16kMono":n(o.data.type);break;case"getBuffer":i();break;case"clear":r()}}}},t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e,n){"use strict";var i=n(7),r=n(6),o=function(){function t(e){function n(){}void 0===e&&(e={}),r.Processors.bindProcessors(),this.server=e.server||"",this.token=e.token||"",this.sessionId=e.sessionId||"",this.lang=e.lang||"en",this.contentType=e.contentType||t.CONTENT_TYPE,this.readingInterval=e.readingInterval||t.INTERVAL,this.onOpen=e.onOpen&&e.onOpen.bind(this)||n,this.onClose=e.onClose&&e.onClose.bind(this)||n,this.onInit=e.onInit&&e.onInit.bind(this)||n,this.onStartListening=e.onStartListening&&e.onStartListening.bind(this)||n,this.onStopListening=e.onStopListening&&e.onStopListening.bind(this)||n,this.onResults=e.onResults&&e.onResults.bind(this)||n,this.onEvent=e.onEvent&&e.onEvent.bind(this)||n,this.onError=e.onError&&e.onError.bind(this)||n}return t.prototype.init=function(){this.onEvent(t.Events.MSG_WAITING_MICROPHONE,"Waiting for approval to access your microphone ...");try{window.AudioContext=window.AudioContext||webkitAudioContext,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,window.URL=window.URL||window.webkitURL,this.audioContext=new AudioContext}catch(e){this.onError(t.ERROR.ERR_CLIENT,"Error initializing Web Audio browser: "+JSON.stringify(e))}navigator.getUserMedia?navigator.getUserMedia({audio:!0},this.startUserMedia.bind(this,this.onInit),function(e){this.onError(t.ERROR.ERR_CLIENT,"No live audio input in this browser: "+JSON.stringify(e))}):this.onError(t.ERROR.ERR_CLIENT,"No user media support")},t.prototype.startUserMedia=function(e,n){this.mediaStreamSource=this.audioContext.createMediaStreamSource(n),this.userSpeechAnalyser=this.audioContext.createAnalyser(),this.mediaStreamSource.connect(this.userSpeechAnalyser),this.recorder=new i["default"](this.mediaStreamSource),this.onEvent(t.Events.MSG_INIT_RECORDER,"Recorder initialized"),e&&e()},t.prototype.isInitialise=function(){return!!this.recorder},t.prototype.sendJson=function(e){this.socketSend(JSON.stringify(e)),this.socketSend(t.TAG_END_OF_SENTENCE)},t.prototype.startListening=function(){var e=this;if(!this.recorder)return void this.onError(t.ERROR.ERR_AUDIO,"Recorder undefined");if(!this.ws)return void this.onError(t.ERROR.ERR_AUDIO,"No web socket connection");var n=function(t){e.resampleProcessor=e.audioContext.createResampleProcessor(256,1,1,16e3),e.mediaStreamSource.connect(e.resampleProcessor);var n=e.audioContext.createEndOfSpeechProcessor(256);n.endOfSpeechCallback=t,e.resampleProcessor.connect(n)};n(function(){return e.stopListening()}),this.ws.send("{'timezone':'America/New_York', 'lang':'"+this.lang+"', 'sessionId':'"+this.sessionId+"'}"),this.intervalKey=setInterval(function(){e.recorder.export16kMono(function(t){e.socketSend(t),e.recorder.clear()},"audio/x-raw")},this.readingInterval),this.recorder.record(),this.onStartListening()},t.prototype.stopListening=function(){var e=this;this.resampleProcessor&&this.resampleProcessor.disconnect(),clearInterval(this.intervalKey);var n=this.recorder;return n?(n.stop(),this.onEvent(t.Events.MSG_STOP,"Stopped recording"),n.export16kMono(function(i){e.socketSend(i),e.socketSend(t.TAG_END_OF_SENTENCE),n.clear()},"audio/x-raw"),void this.onStopListening()):void this.onError(t.ERROR.ERR_AUDIO,"Recorder undefined")},t.prototype.isOpen=function(){return!!this.ws},t.prototype.openWebSocket=function(){if(!this.recorder)return void this.onError(t.ERROR.ERR_AUDIO,"Recorder undefined");this.ws&&this.close();try{this.ws=this.createWebSocket()}catch(e){this.onError(t.ERROR.ERR_CLIENT,"No web socket support in this browser!")}},t.prototype.createWebSocket=function(){var e=this,n=this.server+"?"+this.contentType+"&access_token="+this.token,i=new WebSocket(n);return i.onmessage=function(n){var i=n.data;e.onEvent(t.Events.MSG_WEB_SOCKET,i),i instanceof Object&&!(i instanceof Blob)?e.onError(t.ERROR.ERR_SERVER,"WebSocket: onEvent: got Object that is not a Blob"):i instanceof Blob?e.onError(t.ERROR.ERR_SERVER,"WebSocket: got Blob"):e.onResults(JSON.parse(i))},i.onopen=function(n){e.onOpen(),e.onEvent(t.Events.MSG_WEB_SOCKET_OPEN,n)},i.onclose=function(n){e.onClose(),e.onEvent(t.Events.MSG_WEB_SOCKET_CLOSE,n.code+"/"+n.reason+"/"+n.wasClean)},i.onerror=function(n){e.onError(t.ERROR.ERR_NETWORK,JSON.stringify(n.data))},i},t.prototype.open=function(){this.recorder?this.openWebSocket():this.init()},t.prototype.close=function(){clearInterval(this.intervalKey),this.recorder&&(this.recorder.stop(),this.recorder.clear(),this.onEvent(t.Events.MSG_STOP,"Stopped recording")),this.ws&&(this.ws.close(),this.ws=null)},t.prototype.socketSend=function(e){if(!this.ws)return void this.onError(t.ERROR.ERR_CLIENT,"No web socket connection: failed to send: "+e);var n=this.ws.readyState;if(1!=n){var i="WebSocket: ";switch(n){case 0:i+="The connection is not yet open.";break;case 2:i+="The connection is in the process of closing.";break;case 3:i+="The connection is closed or couldn't be opened."}i+=" readyState="+n+" (!=1) failed to send: "+e,this.onError(t.ERROR.ERR_NETWORK,i)}e instanceof Blob?e.size>0?(this.ws.send(e),this.onEvent(t.Events.MSG_SEND,"Send: blob: "+e.type+", "+e.size)):this.onEvent(t.Events.MSG_SEND_EMPTY,"Send: blob: "+e.type+", EMPTY"):(this.ws.send(e),this.onEvent(t.Events.MSG_SEND_EOS_OR_JSON,"Send string: "+e))},t}();o.CONTENT_TYPE="content-type=audio/x-raw,+layout=(string)interleaved,+rate=(int)16000,+format=(string)S16LE,+channels=(int)1",o.INTERVAL=250,o.TAG_END_OF_SENTENCE="EOS";var o;!function(t){!function(t){t[t.ERR_NETWORK=0]="ERR_NETWORK",t[t.ERR_AUDIO=1]="ERR_AUDIO",t[t.ERR_SERVER=2]="ERR_SERVER",t[t.ERR_CLIENT=3]="ERR_CLIENT"}(t.ERROR||(t.ERROR={}));t.ERROR;!function(t){t[t.MSG_WAITING_MICROPHONE=0]="MSG_WAITING_MICROPHONE",t[t.MSG_MEDIA_STREAM_CREATED=1]="MSG_MEDIA_STREAM_CREATED",t[t.MSG_INIT_RECORDER=2]="MSG_INIT_RECORDER",t[t.MSG_RECORDING=3]="MSG_RECORDING",t[t.MSG_SEND=4]="MSG_SEND",t[t.MSG_SEND_EMPTY=5]="MSG_SEND_EMPTY",t[t.MSG_SEND_EOS_OR_JSON=6]="MSG_SEND_EOS_OR_JSON",t[t.MSG_WEB_SOCKET=7]="MSG_WEB_SOCKET",t[t.MSG_WEB_SOCKET_OPEN=8]="MSG_WEB_SOCKET_OPEN",t[t.MSG_WEB_SOCKET_CLOSE=9]="MSG_WEB_SOCKET_CLOSE",t[t.MSG_STOP=10]="MSG_STOP",t[t.MSG_CONFIG_CHANGED=11]="MSG_CONFIG_CHANGED"}(t.Events||(t.Events={}));t.Events}(o||(o={})),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o},function(t,e){"use strict";var n=function(){function t(){this.reset()}return t.prototype.process=function(t){var e=this.frameActive(t);if(this.time=160*this.frameNumber/16e3,e)this.lastActiveTime>=0&&this.time-this.lastActiveTime<this.silenceLengthMilis?(this.sequenceCounter++,this.sequenceCounter>=this.minSequenceCount&&(this.lastSequenceTime=this.time,this.silenceLengthMilis=Math.max(this.minSilenceLengthMilis,this.silenceLengthMilis-(this.maxSilenceLengthMilis-this.minSilenceLengthMilis)/4))):this.sequenceCounter=1,this.lastSequenceTime=this.time;else if(this.time-this.lastSequenceTime>this.silenceLengthMilis)return this.lastSequenceTime>0?"TERMINATE":"NO_SPEECH";return"CONTINUE"},t.prototype.frameActive=function(t){for(var e=0,n=0,i=0,r=t.length,o=0;o<r;o++){e+=t[o]*t[o]/160;var s=0;s=t[o]>0?1:-1,0!=i&&s!=i&&n++,i=s}this.frameNumber+=1;var a=!1;return this.frameNumber<this.noiseFrames?(this.noiseEnergy+=e/this.noiseFrames,console.log("noiseEnergy=",this.noiseEnergy)):n>=this.minCZ&&n<=this.maxCZ&&e>Math.max(.01,this.noiseEnergy)*this.energyFactor&&(a=!0),a},t.prototype.reset=function(){this.minCZ=5,this.maxCZ=15,this.frameLengthMilis=10,this.maxSilenceLengthMilis=3.5,this.minSilenceLengthMilis=.8,this.silenceLengthMilis=this.maxSilenceLengthMilis,this.sequenceLengthMilis=.03,this.minSequenceCount=3,this.energyFactor=3.1,this.noiseFrames=Math.round(150/this.frameLengthMilis),this.noiseEnergy=0,this.frameNumber=0,this.lastActiveTime=-1,this.lastSequenceTime=0,this.sequenceCounter=0,this.time=0},t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(2),o=function(t){function e(){t.apply(this,arguments)}return i(e,t),e}(r["default"]);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(2),o=n(0),s=n(13),a=function(t){function e(n,i){void 0===i&&(i={}),t.call(this,n,i),this.options=i,this.baseUri=this.apiAiClient.getApiBaseUrl()+e.ENDPOINT}return i(e,t),e.prototype.create=function(t){this.uri=this.baseUri;var e=s["default"].cloneObject(this.options);return e.entities=Array.isArray(t)?t:[t],this.perform(e)},e.prototype.retrieve=function(t){return this.uri=this.baseUri+"/"+t,this.requestMethod=o["default"].Method.GET,this.perform()},e.prototype.update=function(t,e,n){void 0===n&&(n=!1),this.uri=this.baseUri+"/"+t,this.requestMethod=o["default"].Method.PUT;var i=s["default"].cloneObject(this.options);return i.extend=n,i.entries=e,i.name=t,this.perform(i)},e.prototype["delete"]=function(t){return this.uri=this.baseUri+"/"+t,this.requestMethod=o["default"].Method.DELETE,this.perform()},e}(r["default"]);e.UserEntitiesRequest=a,a.ENDPOINT="userEntities"},function(t,e){"use strict";var n=function(){function t(){}return t.cloneObject=function(t){return JSON.parse(JSON.stringify(t))},t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e,n){t.exports=n(4)}]);